"use strict";(self.webpackChunksfmcify=self.webpackChunksfmcify||[]).push([[4510],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=u(n),m=i,k=p["".concat(s,".").concat(m)]||p[m]||c[m]||r;return n?a.createElement(k,l(l({ref:t},d),{},{components:n})):a.createElement(k,l({ref:t},d))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var u=2;u<r;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3435:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var a=n(7462),i=(n(7294),n(3905));const r={id:"DynamicLinksInJourneyBuilder",title:"Engagement Split, a way to monitor dynamic links in Journey Builder",sidebar_label:"Dynamic Links In JourneyBuilder",tags:["Journey Builder","Dynamic links","Engagement Split"]},l=void 0,o={unversionedId:"SFMC Builders/DynamicLinksInJourneyBuilder",id:"SFMC Builders/DynamicLinksInJourneyBuilder",title:"Engagement Split, a way to monitor dynamic links in Journey Builder",description:"Engagement Split activity allows sending contacts into different paths of your Journey based on whether they opened or clicked a link in an email. What is the problem than?",source:"@site/docs/SFMC Builders/dynamiclinksInJB.md",sourceDirName:"SFMC Builders",slug:"/SFMC Builders/DynamicLinksInJourneyBuilder",permalink:"/docs/SFMC Builders/DynamicLinksInJourneyBuilder",draft:!1,tags:[{label:"Journey Builder",permalink:"/docs/tags/journey-builder"},{label:"Dynamic links",permalink:"/docs/tags/dynamic-links"},{label:"Engagement Split",permalink:"/docs/tags/engagement-split"}],version:"current",frontMatter:{id:"DynamicLinksInJourneyBuilder",title:"Engagement Split, a way to monitor dynamic links in Journey Builder",sidebar_label:"Dynamic Links In JourneyBuilder",tags:["Journey Builder","Dynamic links","Engagement Split"]},sidebar:"tutorialSidebar",previous:{title:"SFMC Builders",permalink:"/docs/category/sfmc-builders"},next:{title:"SFMC SQL",permalink:"/docs/category/sfmc-sql"}},s={},u=[{value:"Alias attribute in <code>&lt;a&gt;</code> tag",id:"alias-attribute-in-a-tag",level:3},{value:"Configure the email",id:"configure-the-email",level:3},{value:"Query Clicks data view",id:"query-clicks-data-view",level:3},{value:"Journey Builder configuration",id:"journey-builder-configuration",level:2}],d={toc:u};function c(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Engagement Split activity allows sending contacts into different paths of your Journey based on whether they opened or clicked a link in an email. What is the problem than? "),(0,i.kt)("admonition",{title:"Engagement Split Limitation",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"Clicks tracking in Engagement Splits only works with static links. This means that links containing personalization strings or AMPScript are not supported.")),(0,i.kt)("p",null,"This is a problem that comes back on a lot of projects because of the need for personalized links. And I have seen a lot of people asking for solutions. There is also an ",(0,i.kt)("a",{parentName:"p",href:"https://ideas.salesforce.com/s/idea/a0B8W00000GditdUAB/engagement-split-click-enable-dynamic-links-to-be-monitored"},"idea on ideaexchange")," that was created back in 2018 to enable dynamic links monitoring, and it has been ",(0,i.kt)("strong",{parentName:"p"},"voted up more than 550 times"),"."),(0,i.kt)("p",null,"So without further talking, let me show you a way to resolve this issue."),(0,i.kt)("h3",{id:"alias-attribute-in-a-tag"},"Alias attribute in ",(0,i.kt)("inlineCode",{parentName:"h3"},"<a>")," tag"),(0,i.kt)("p",null,"The ",(0,i.kt)("strong",{parentName:"p"},"alias")," is an attribute of ",(0,i.kt)("inlineCode",{parentName:"p"},"<a>")," tag. It specifies the name you want to give to a specific link. It becomes more important when a single URL is used multiple times inside an email and tracking is needed for each specific link."),(0,i.kt)("p",null,"Alias represents a field we have on ",(0,i.kt)("a",{parentName:"p",href:"https://help.salesforce.com/s/articleView?id=sf.mc_as_data_view_click.htm&type=5"},"Clicks")," data view and that we will be using in a query. I\u2019ll get into details very soon."),(0,i.kt)("p",null,"Depending on your use cases, you either need to have the same alias for all dynamic links on your email or a unique alias per link."),(0,i.kt)("h3",{id:"configure-the-email"},"Configure the email"),(0,i.kt)("p",null,"Let\u2019s imagine we have a journey with one email that contains a dynamic link on a CTA button to push the Subscriberkey to an external landing page. We will need to come up with a unique name and add it to the alias attribute\u2019s value on the ",(0,i.kt)("inlineCode",{parentName:"p"},"<a>")," tag as below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<a href="https://yourlink.com?subid=%%_subscriberkey%%" alias="cmp1_email1_cta1">\n')),(0,i.kt)("p",null,"That\u2019s all that we need to do on the email. "),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"I recommended using one unique alias per campaign and per email to avoid adding more complexity to the filters on our Journey.")),(0,i.kt)("h3",{id:"query-clicks-data-view"},"Query Clicks data view"),(0,i.kt)("p",null,"Alright, now that we have the alias set up on the email, we need to get tracking data, put it in a data extension and link it in Data Designer to be able to use it in Journey Builder\u2019s filters."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"}," Create a data extension: ")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Field Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Length"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Subscriberkey"),(0,i.kt)("td",{parentName:"tr",align:null},"Text"),(0,i.kt)("td",{parentName:"tr",align:null},"18")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"LinkName"),(0,i.kt)("td",{parentName:"tr",align:null},"Text"),(0,i.kt)("td",{parentName:"tr",align:null},"1024")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"EventDate"),(0,i.kt)("td",{parentName:"tr",align:null},"Date"),(0,i.kt)("td",{parentName:"tr",align:null})))),(0,i.kt)("p",null,"Next, we need to link it to our data model in Data Designer using the SubscriberKey."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Contact Builder Data Designer",src:n(2365).Z,width:"600",height:"561"})),(0,i.kt)("p",null,"Next, we need to create a query to get data from Clicks data view and populate our data extension, put the query in an automation and schedule it."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The schedule should consider the wait time activity before the Engagement Split on the journey.")),(0,i.kt)("p",null,"The query is pretty simple, we can use something like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT SubscriberKey, LinkName, EventDate FROM _Click\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This is a very basic example. The query can be optimized in several ways: adding a join with the entry source data extension, adding a where condition on EventDate,\u2026")),(0,i.kt)("h2",{id:"journey-builder-configuration"},"Journey Builder configuration"),(0,i.kt)("p",null,"Now that the data extension is created, and the automation is scheduled and running, let\u2019s move on to our Journey. ",(0,i.kt)("strong",{parentName:"p"},"Instead of creating an Engagement Split, we are going to use a Decision Split.")),(0,i.kt)("p",null,"Using Contact Data, we need to drag and drop the LinkName field from our linked data extension and add a filter on our Alias value defined previously on our email links."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Contacts Data > YourMainDE > ClicksDE > LinkName = cmp1_email1_cta1")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Journey Builder Engagement Split",src:n(7364).Z,width:"2076",height:"842"})),(0,i.kt)("p",null,"And that\u2019s it, your journey can now track clicks on dynamic links. Please note that a lot of combinations are possible using this solution and I\u2019ve tried to keep it as short as possible by showing you the idea behind it and leaving it to your use case/imagination to adapt it. "),(0,i.kt)("p",null,"For example, you can combine an Engagement Split (to track static links) with a Decision Split (for dynamic links). You can also filter on EventDate if the journey re-entry settings are set on re-entry after exit or re-entry at any time\u2026"))}c.isMDXComponent=!0},2365:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dynamiclinks1-02c086ff4eae98b50391062ce835552d.png"},7364:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dynamiclinks2-3ecb424d0b37a41f491009e12a5b7ba1.png"}}]);